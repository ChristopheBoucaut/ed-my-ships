!function(){"use strict";var e="undefined"==typeof window?global:window;if("function"!=typeof e.require){var t={},n={},r={},o={}.hasOwnProperty,i="components/",a=function(e,t){var n=0;t&&(0===t.indexOf(i)&&(n=i.length),t.indexOf("/",n)>0&&(t=t.substring(n,t.indexOf("/",n))));var o=r[e+"/index.js"]||r[t+"/deps/"+e+"/index.js"];return o?i+o.substring(0,o.length-".js".length):e},s=/^\.\.?(\/|$)/,l=function(e,t){for(var n,r=[],o=(s.test(t)?e+"/"+t:t).split("/"),i=0,a=o.length;a>i;i++)n=o[i],".."===n?r.pop():"."!==n&&""!==n&&r.push(n);return r.join("/")},u=function(e){return e.split("/").slice(0,-1).join("/")},c=function(t){return function(n){var r=l(u(t),n);return e.require(r,t)}},d=function(e,t){var r={id:e,exports:{}};return n[e]=r,t(r.exports,c(e),r),r.exports},f=function(e,r){var i=l(e,".");if(null==r&&(r="/"),i=a(e,r),o.call(n,i))return n[i].exports;if(o.call(t,i))return d(i,t[i]);var s=l(i,"./index");if(o.call(n,s))return n[s].exports;if(o.call(t,s))return d(s,t[s]);throw new Error('Cannot find module "'+e+'" from "'+r+'"')};f.alias=function(e,t){r[t]=e},f.register=f.define=function(e,n){if("object"==typeof e)for(var r in e)o.call(e,r)&&(t[r]=e[r]);else t[e]=n},f.list=function(){var e=[];for(var n in t)o.call(t,n)&&e.push(n);return e},f.brunch=!0,f._cache=n,e.require=f}}(),require.register("scripts/app",function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var o=t("scripts/controllers"),i=r(o),a=t("scripts/services"),s=r(a),l="edMyShips",u=angular.module(l,[i["default"],s["default"],"ngRoute","ngSanitize","ngMaterial","ngMessages","pascalprecht.translate","cbAngular.utils.storage"]);u.config(["$routeProvider",function(e){e.when("/",{controller:"HomepageController",templateUrl:"homepage.html"}).when("/ship/:id?",{controller:"ShipController",templateUrl:"ship.html"}).when("/aboutit",{controller:"AboutitController",templateUrl:"aboutit.html"}).otherwise({redirectTo:"/"})}]),u.config(["$translateProvider",function(e){function t(){var e=new Array("fr"),t=navigator.language.substr(0,2);return e.indexOf(t)>-1?t:"fr"}e.useStaticFilesLoader({prefix:"translation.",suffix:".json"}),e.determinePreferredLanguage(t),e.useSanitizeValueStrategy("escape")}]),u.config(["$mdThemingProvider",function(e){e.theme("default").primaryPalette("deep-orange").accentPalette("orange").warnPalette("indigo").dark()}]),u.config(["$mdIconProvider",function(e){var t="img/icons/";e.icon("global:menu",t+"menu.svg").icon("global:back",t+"back.svg").icon("global:edit",t+"edit.svg").icon("global:save",t+"save.svg")}]),e["default"]=l}),require.register("scripts/controllers",function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var o=t("scripts/controllers/homepage"),i=r(o),a=t("scripts/controllers/head"),s=r(a),l=t("scripts/controllers/header"),u=r(l),c=t("scripts/controllers/ship"),d=r(c),f=t("scripts/controllers/aboutit"),p=r(f),h="edMyShips.controllers",g=angular.module(h,[]);g.controller("HomepageController",i["default"]),g.controller("HeadController",s["default"]),g.controller("HeaderController",u["default"]),g.controller("ShipController",d["default"]),g.controller("AboutitController",p["default"]),e["default"]=h}),require.register("scripts/controllers/aboutit",function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function i(e,t){r(this,i),e("header.title.aboutit").then(function(e){t.setAdditionnalTitle(e)})};o.$inject=["$translate","headContent"],e["default"]=o}),require.register("scripts/controllers/head",function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function i(e,t){r(this,i),e.additionnalTitle=null,e.$on(t.EVENT_CHANGE_TITLE,function(t,n){e.additionnalTitle=n})};o.$inject=["$scope","headContent"],e["default"]=o}),require.register("scripts/controllers/header",function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function i(e,t,n,o,a,s){r(this,i),e.title=null,e.mainAction=null,e.isHome=!0,e.$on(a.EVENT_CHANGE_TITLE,function(t,n){e.title=n}),e.$on(s.EVENT_CHANGE_MAIN_ACTION,function(t,n){e.mainAction=n}),e.openLeftMenu=function(){o("left").toggle()},e.backHome=function(){t.path("/")},e.$on("$routeChangeSuccess",function(){"/"===t.path()?e.isHome=!0:e.isHome=!1})};o.$inject=["$scope","$location","$window","$mdSidenav","headContent","headerContent"],e["default"]=o}),require.register("scripts/controllers/homepage",function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function i(e,t,n,o,a,s){r(this,i),o.resetTitle(),a.removeMainAction(),e.ships=s.loadModel(),e.countShips=Object.keys(e.ships).length,e.deleteShip=function(r){var o=["homepage.deleteShipModal.title","homepage.deleteShipModal.content","homepage.deleteShipModal.accept","homepage.deleteShipModal.cancel"];n(o,{nameShip:r.alias}).then(function(n){confirm=t.confirm({title:n["homepage.deleteShipModal.title"],textContent:n["homepage.deleteShipModal.content"],ok:n["homepage.deleteShipModal.accept"],cancel:n["homepage.deleteShipModal.cancel"]}),t.show(confirm).then(function(){s.deleteModel(r.id),delete e.ships[r.id]},function(){})["finally"](function(){confirm=void 0})})}};o.$inject=["$scope","$mdDialog","$translate","headContent","headerContent","managerShips"],e["default"]=o}),require.register("scripts/controllers/ship",function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=t("scripts/models/ship"),a=r(i),s=function l(e,t,n,r,s,u,c,d,f){function p(e){for(var t=0;t<i.shipsModels.length;t++)if(i.shipsModels[t].id==e)return i.shipsModels[t]}function h(){e.editMode?d.setMainAction(g,"global:save"):d.setMainAction(m,"global:edit")}function g(){var t=[];if(e.shipForm.$setSubmitted(!0),!e.shipForm.$valid)for(var o in e.shipForm.$error){var i=e.shipForm.$error[o];for(var a in i)t.push("ship.errorModal."+o+"."+i[a].$name)}if(e.ship.model||t.push("ship.errorModal.required.model"),t.length>0){var l=["ship.errorModal.title","ship.errorModal.fix"],u=[l,t];return void r(u).then(function(e){var n=e[l.join(",")],r=e[t.join(",")],o="<ul>";for(var i in r)o+="<li>"+r[i]+"</li>";o+="</ul>",alert=s.alert({title:n["ship.errorModal.title"],htmlContent:o,ok:n["ship.errorModal.fix"]}),s.show(alert)["finally"](function(){alert=void 0})})}var c=null===e.ship.id;v(),c?n.path(n.path()+"/"+e.ship.id).replace():(e.editMode=!1,h())}function m(){e.editMode=!0,h()}function v(){f.storageModel(e.ship),r("ship.saved").then(function(e){u.show(u.simple().textContent(e).position("bottom right"))})}o(this,l),e.notSaved=!1;var b;if(t.id&&(e.ship=f.loadModel(t.id),e.ship)){var y=p(e.ship.model);y&&(e.searchShip=y.name,e.currentShipModel=y),e.editMode=!1,c.setAdditionnalTitle(e.ship.alias)}void 0===e.ship&&(e.ship=new a["default"],e.editMode=!0,b="ship.create_ship",r(b).then(function(e){c.setAdditionnalTitle(e)})),h(),e.shipsModelsSearch=function(e){return e?(e=e.toLowerCase(),i.shipsModels.filter(function(t){return-1!==t.name.toLowerCase().indexOf(e)})):i.shipsModels},e.changeShipModel=function(t){t?e.ship.model=t.id:e.ship.model=null},e.addTask=function(t){if(void 0===t||13==t.keyCode){var n=e.newTaskValue;e.newTaskValue="",e.ship.addTask(n)}},e.changeTaskStatus=v};s.$inject=["$scope","$routeParams","$location","$translate","$mdDialog","$mdToast","headContent","headerContent","managerShips"],e["default"]=s}),require.register("scripts/models/abstractModel",function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function e(){if(r(this,e),this.constructor===e)throw new TypeError("Cannot construct Abstract instances directly")}return o(e,null,[{key:"loadFromObject",value:function(e){var t=new this;for(var n in e)t.hasOwnProperty(n)&&(t[n]=e[n]);return t}}]),e}();e["default"]=i}),require.register("scripts/models/ship",function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(e,"__esModule",{value:!0}),e.shipsModels=void 0;var l=t("scripts/models/abstractModel"),u=r(l),c=new window.showdown.Converter,d=function h(e,t){a(this,h),this.id=e,this.name=t},f=[new d("adder","Adder"),new d("anaconda","Anaconda"),new d("asp_explorer","Asp Explorer"),new d("asp_scout","Asp Scout"),new d("cobra_mkiii","Cobra MkIII"),new d("cobra_mkiv","Cobra MkIV"),new d("diamondback_explorer","Diamondback Explorer"),new d("diamondback_scout","Diamondback Scout"),new d("eagle","Eagle"),new d("federal_assault_ship","Federal Assault Ship"),new d("federal_corvette","Federal Corvette"),new d("federal_dropship","Federal Dropship"),new d("federal_gunship","Federal Gunship"),new d("fer_de_lance","Fer-de-Lance"),new d("hauler","Hauler"),new d("imperial_clipper","Imperial Clipper"),new d("imperial_courier","Imperial Courier"),new d("imperial_cutter","Imperial Cutter"),new d("imperial_eagle","Imperial Eagle"),new d("keelback","Keelback"),new d("orca","Orca"),new d("python","Python"),new d("sidewinder_mki","Sidewinder MkI"),new d("type_6_transporter","Type-6 Transporter"),new d("type_7_transporter","Type-7 Transporter"),new d("type_9_heavy","Type-9 Heavy"),new d("viper_mkiii","Viper MkIII"),new d("viper_mkiv","Viper MkIV"),new d("vulture","Vulture")],p=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0],n=arguments.length<=1||void 0===arguments[1]?"":arguments[1],r=arguments.length<=2||void 0===arguments[2]?null:arguments[2],i=arguments.length<=3||void 0===arguments[3]?null:arguments[3],s=arguments.length<=4||void 0===arguments[4]?"":arguments[4],l=arguments.length<=5||void 0===arguments[5]?"":arguments[5],u=arguments.length<=6||void 0===arguments[6]?[]:arguments[6];a(this,t);var c=o(this,Object.getPrototypeOf(t).call(this));return c.id=e,c.alias=n,c.model=r,c.insuranceCost=i,c.localisation=s,c.note=l,c.todoList=u,c}return i(t,e),s(t,[{key:"addTask",value:function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0];this.todoList.push({description:e,done:!1})}},{key:"displayNote",value:function(){return c.makeHtml(this.note)}},{key:"countTasksDone",value:function(){for(var e=0,t=0;t<this.todoList.length;t++)this.todoList[t].done&&e++;return e}}]),t}(u["default"]);e["default"]=p;e.shipsModels=f}),require.register("scripts/services",function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var o=t("scripts/services/managerShips"),i=r(o),a=t("scripts/services/headContent"),s=r(a),l=t("scripts/services/headerContent"),u=r(l),c="edMyShips.services",d=angular.module(c,[]);d.service("managerShips",i["default"]),d.service("headContent",s["default"]),d.service("headerContent",u["default"]),e["default"]=c}),require.register("scripts/services/abstractManagerModel",function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(e,"__esModule",{value:!0});var a=t("scripts/models/abstractModel"),s=r(a),l=function(){function e(t){if(o(this,e),this.constructor===e)throw new TypeError("Cannot construct Abstract instances directly");if(this.storage=t,!(this.getNamespace instanceof Function))throw new TypeError("You must implement the getNamespace method.");if(!(this.getModel instanceof Function))throw new TypeError("You must implement the getModel method.")}return i(e,[{key:"generateUniqueId",value:function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}},{key:"storageModel",value:function(e){if(!(e instanceof s["default"]))throw new TypeError("The first argument of storageModel must be an instance of AbstractModel.");e.id||(e.id=this.generateUniqueId()),this.storage.setItem(this.getNamespace(),e.id,e)}},{key:"loadModel",value:function(e){if(e){var t=this.storage.getItem(this.getNamespace(),e);if(t)return this.getModel().loadFromObject(t)}else{var n=this.storage.getItems(this.getNamespace());if(n){var r={};for(var o in n)r[o]=this.getModel().loadFromObject(n[o]);return r}}}},{key:"deleteModel",value:function(e){this.storage.removeItem(this.getNamespace(),e)}}]),e}();e["default"]=l}),require.register("scripts/services/headContent",function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(e,"__esModule",{value:!0});var i=Symbol("notifyChange"),a=function(){function e(t){r(this,e),this.EVENT_CHANGE_TITLE="change_head_title",this.additionnalTitle=null,this[i]=function(){t.$broadcast(this.EVENT_CHANGE_TITLE,this.additionnalTitle)}}return o(e,[{key:"resetTitle",value:function(){this.additionnalTitle=null,this[i]()}},{key:"setAdditionnalTitle",value:function(e){this.additionnalTitle=e,this[i]()}}]),e}();a.$inject=["$rootScope"],e["default"]=a}),require.register("scripts/services/headerContent",function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(e,"__esModule",{value:!0});var i=Symbol("notifyChangeMainAction"),a=function(){function e(t){r(this,e),this.EVENT_CHANGE_MAIN_ACTION="change_main_action",this.mainAction=null,this[i]=function(){t.$broadcast(this.EVENT_CHANGE_MAIN_ACTION,this.mainAction)}}return o(e,[{key:"removeMainAction",value:function(){this.mainAction=null,this[i]()}},{key:"setMainAction",value:function(e,t){this.mainAction={callback:e,icon:t},this[i]()}}]),e}();a.$inject=["$rootScope"],e["default"]=a}),require.register("scripts/services/managerShips",function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(e,"__esModule",{value:!0});var l=t("scripts/services/abstractManagerModel"),u=r(l),c=t("scripts/models/ship"),d=r(c),f=function(e){function t(e){return o(this,t),i(this,Object.getPrototypeOf(t).call(this,e))}return a(t,e),s(t,[{key:"getNamespace",value:function(){return"ships"}},{key:"getModel",value:function(){return d["default"]}}]),t}(u["default"]);f.$inject=["cbLocalStorage"],e["default"]=f});